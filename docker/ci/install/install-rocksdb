#!/bin/bash

set -eo pipefail

# RocksDB dependencies
# Install gflags
git clone https://github.com/gflags/gflags.git
cd gflags
git checkout v2.0
./configure && make && make install

# Install zstandard
wget https://github.com/facebook/zstd/archive/v1.1.3.tar.gz
mv v1.1.3.tar.gz zstd-1.1.3.tar.gz
tar zxvf zstd-1.1.3.tar.gz
cd zstd-1.1.3
make && make install

# Installing RocksDB and Snappy
cd /usr/local/lib
wget -q https://s3-us-west-1.amazonaws.com/chain-build/librocksdb.a
wget -q https://s3-us-west-1.amazonaws.com/chain-build/libsnappy.a
